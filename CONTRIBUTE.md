# Contribute to PFunk

## Install Docker and Docker Compose

- Follow the instructions [here to install Docker](https://docs.docker.com/get-docker/)
- Follow the instructions [here to install Docker Compose](https://docs.docker.com/compose/install/) 

## Setup Local Environment

### Example Env file

Please create a `.env` file and copy the following to variables to it. You will need to supply values for the following variables.

- FAUNA_SECRET - This should be generated by using the iPython notebook instructions below.
- DEFAULT_FROM_EMAIL
- PROJECT_NAME
- AWS_ACCESS_KEY_ID
- AWS_SECRET_ACCESS_KEY

```commandline
FAUNA_SECRET=your-locally-generated-fauna-secret-key
FAUNA_SCHEME=http
FAUNA_DOMAIN=fauna
FAUNA_PORT=8443
FAUNA_GRAPHQL_IMPORT_URL=http://fauna:8084/import
FAUNA_GRAPHQL_URL=http://fauna:8084/graphql
DEFAULT_FROM_EMAIL=youremail@yourdomain.com
PROJECT_NAME=TestProject
TEMPLATE_ROOT_DIR=/code/pfunk/carcamp/templates
AWS_ACCESS_KEY_ID=YOUR-AWS-ACCESS-KEY
AWS_SECRET_ACCESS_KEY=YOUR-AWS-SECRET-ACCESS-KEY
```

### Run Docker Compose

Run the command below and copy and paste URL that is generated. Change the port from `8888` to `8010`.

```commandline
docker-compose up
```

### Get Local Fauna Key
Copy `fauna.ipynb.tmpl` to `fauna.ipynb` and run the commands. Copy the generated key from the **Create Key** to the 
**FAUNA_SECRET** variable in your .env file above. 


## Run Unit Tests

```commandline
docker-compose run web poetry run python -m unittest
```

## Pull Requests

Please open PRs that will merge to the **develop** branch.

